{
  "entities": {
    "User": {
      "title": "User",
      "type": "object",
      "description": "Represents a user in the Syncfluence application.",
      "properties": {
        "uid": { "type": "string", "description": "Firebase Authentication user ID." },
        "displayName": { "type": "string", "description": "The user's unique display name." },
        "email": { "type": "string", "format": "email", "description": "The user's email address (optional, for permanent accounts)." },
        "avatarUrl": { "type": "string", "format": "uri", "description": "URL of the user's profile picture." },
        "bio": { "type": "string", "description": "A short bio for the user." },
        "isAnonymous": { "type": "boolean", "description": "True if the user is anonymous." }
      },
      "required": ["uid", "displayName", "isAnonymous"]
    },
    "ChatRoom": {
      "title": "ChatRoom",
      "type": "object",
      "description": "Represents a chat room within the application.",
      "properties": {
        "name": { "type": "string", "description": "Name of the chat room." },
        "type": { "type": "string", "enum": ["channel", "dm"], "description": "The type of chat room." },
        "ownerId": { "type": "string", "description": "ID of the user who created the chat room (for channels)." },
        "userIds": { "type": "array", "items": { "type": "string" }, "description": "List of user IDs that are members of the chat room." },
        "privacy": { "type": "string", "enum": ["public", "private"], "description": "The privacy setting of the chat room." },
        "password": { "type": "string", "description": "Password for private chat rooms (optional)." }
      },
      "required": ["name", "type", "userIds", "privacy"]
    },
    "ChatMessage": {
      "title": "ChatMessage",
      "type": "object",
      "description": "Represents a single message within a chat room.",
      "properties": {
        "roomId": { "type": "string", "description": "ID of the chat room this message belongs to." },
        "userId": { "type": "string", "description": "ID of the user who sent the message." },
        "content": { "type": "string", "description": "The content of the message." },
        "timestamp": { "type": "object", "description": "Firestore server timestamp of when the message was sent." },
        "fileUrl": { "type": "string", "format": "uri", "description": "URL of the file attached to the message, if any." },
        "fileName": { "type": "string", "description": "Name of the attached file." }
      },
      "required": ["roomId", "userId", "content", "timestamp"]
    },
    "Task": {
      "title": "Task",
      "type": "object",
      "description": "Represents a task extracted from chat messages.",
      "properties": {
        "roomId": { "type": "string", "description": "ID of the chat room this task belongs to." },
        "assigneeId": { "type": "string", "description": "ID of the user the task is assigned to." },
        "description": { "type": "string", "description": "Description of the task." },
        "dueDate": { "type": "string", "format": "date-time", "description": "Due date for the task." },
        "completed": { "type": "boolean", "description": "Indicates whether the task is completed." }
      },
      "required": ["roomId", "description", "completed"]
    }
  },
  "auth": {
    "providers": ["password", "google.com", "anonymous"]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "User",
          "schema": { "$ref": "#/entities/User" },
          "description": "Stores public user profile information."
        }
      },
      {
        "path": "/chatRooms/{chatRoomId}",
        "definition": {
          "entityName": "ChatRoom",
          "schema": { "$ref": "#/entities/ChatRoom" },
          "description": "Stores metadata for chat rooms. Members can read, creator can write."
        }
      },
      {
        "path": "/chatRooms/{chatRoomId}/messages/{messageId}",
        "definition": {
          "entityName": "ChatMessage",
          "schema": { "$ref": "#/entities/ChatMessage" },
          "description": "Stores messages for a chat room. Members of the room can read and write."
        }
      }
    ]
  }
}
